<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3>Hello World!</h3>

    <input type="text" name="text" id="text">
    <button type="button" id="button">Send</button>

    <script>
        let connection = new WebSocket("ws://127.0.0.1:81");
        connection.onopen = function () {
            connection.send("Connect " + new Date());
        };
        connection.onerror = function (error) {
            console.log("WebSocket Error ", error);
            alert("WebSocket Error ", error);
        };
        connection.onmessage = function (e) {
            console.log("Received: ", e.data);
        };
    </script>
    <script>
        let textbox = document.getElementById("text");
        let button = document.getElementById("button");

        button.addEventListener("click", () => {
            let payload = textbox.value;

            console.log("Sent: " + payload);
            connection.send(payload);
        });
    </script>
</body>

</html>